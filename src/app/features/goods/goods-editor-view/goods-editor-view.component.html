<div class="modal-dialog modal-lg" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">{{productForChange? "Edit product" :"Add new product"}}</h5>
      <button type="button" class="close" (click)="closeEditorModal()">
        <span>&times;</span>
      </button>
    </div>
    <div class="modal-body d-flex flex-column">
      <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
        <div class="form-group mb-3">
          <label for="name" class="form-label fs-4">Product Name</label>
          <input formControlName="name" class="form-control form-control-sm"
          autocomplete="off" type="text"
          [ngClass]="{'is-valid': formGroup.get('name')?.valid && formGroup.get('name')?.touched,
          'is-invalid': (!formGroup.get('name')?.valid && formGroup.get('name')?.touched) ||
          (submitAttempted && formGroup.get('name')?.invalid)}">
          <small class="form-text invalid-feedback">Invalid product name.</small>
        </div>

        <div class="form-group mb-3">
          <label for="productId" class="form-label fs-4">Product id</label>
          <input formControlName="productId" class="form-control form-control-sm" autocomplete="off"
          [ngClass]="{'is-valid': formGroup.get('productId')?.valid && formGroup.get('productId')?.touched,
          'is-invalid': (!formGroup.get('productId')?.valid && formGroup.get('productId')?.touched) ||
          (submitAttempted && formGroup.get('productId')?.invalid)}">
          <small class="form-text invalid-feedback">Invalid product id.</small>
        </div>

        <div class="form-group mb-3">
          <label for="price" class="form-label fs-4">Price</label>
          <input formControlName="price" class="form-control form-control-sm" autocomplete="off"
          [ngClass]="{'is-valid': formGroup.get('price')?.valid && formGroup.get('price')?.touched,
          'is-invalid': (!formGroup.get('price')?.valid && formGroup.get('price')?.touched) ||
          (submitAttempted && formGroup.get('price')?.invalid)}">
          <small class="form-text invalid-feedback">Invalid price.</small>
        </div>

        <div class="form-group mb-3">
          <label for="quantity" class="form-label fs-4">Quantity</label>
          <input formControlName="quantity" class="form-control form-control-sm" autocomplete="off"
          [ngClass]="{'is-valid': formGroup.get('quantity')?.valid && formGroup.get('quantity')?.touched,
          'is-invalid': (!formGroup.get('quantity')?.valid && formGroup.get('quantity')?.touched) ||
          (submitAttempted && formGroup.get('quantity')?.invalid)}">
          <small class="form-text invalid-feedback">Invalid quantity.</small>
        </div>

        <div class="mb-3" *ngIf="!productForChange">
          <label for="fileInput" class="form-label fs-4 pr-2">Add Image</label>
          <input type="file" accept="image/*" (change)="onFileSelected($event)" id="fileInput"
          [ngClass]="{'text-danger': submitAttempted && !base64Image}">
        </div>

        <div class="mt-1 d-flex justify-content-center">
          <button type="submit" class="btn btn-primary w-50 mx-auto">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>


